
<script src="https://aframe.io/releases/0.6.1/aframe.min.js"></script>
<script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
<script>  
AFRAME.registerComponent('cursor-listener', {
  init: function () {
      var lastIndex = -1;
	var firstLetter = true;
	var editedText = "";
	
    this.el.addEventListener('click', function (evt) {
	debugger;	
	this.setAttribute('material', 'color', 'grey');
	var elt = this;
	var timeoutId = setTimeout(revertColor, 320, elt);
	var clickedElt = this.getAttribute("value");
	console.log('I was clicked at: ', evt.detail.intersection.point);
	var textbox = document.getElementById("text1");
	var textValue = textbox.getAttribute('text','value').value;
	if(textValue == "Your Text Here!"){firstLetter = true; textValue = "";}
	else{firstLetter = false;}
		
	if(textValue == "" || textValue.length == 0 ){firstLetter = true;}
	
	if(clickedElt=="Backspace"){debugger 
		if(!firstLetter){editedText = textValue.substr(0, textValue.length - 1);}
	}
	else if(clickedElt=="Delete"){debugger
		editedText="";firstLetter = true;
	}
	else if(clickedElt=="Space"){
		editedText=textValue+" ";
	}
	else{
		editedText=textValue+clickedElt;
	}	
	textbox.setAttribute('text','value', editedText);
    });
  }
});

function revertColor(elt){
	elt.setAttribute('material', 'color', 'black');
}

//# sourceURL=somename.js</script>
<body style='margin:0px; overflow:hidden;'>
    <a-scene embedded arjs='sourceType: webcam;'>
                <a-entity camera look-controls>
  <a-entity cursor="fuse: true; fuseTimeout: 680"
            position="0 0 -1"
            geometry="primitive: ring; radiusInner: 0.002; radiusOuter: 0.005"
            material="color: red; shader: flat; metalness: 1">
  </a-entity>
</a-entity>

        <a-marker preset='hiro'>
            <!--<a-entity id="box" cursor-listener geometry="primitive: box" material="color: blue"></a-entity>-->
			<!--<a-plane position="0 0 -1" cursor-listener rotation="-90 0 0" width="4" height="4" color="#7BC8A4"></a-plane>-->
            <a-plane  width="0.35" height="0.35" cursor-listener position="-1   1.1	 0  " rotation="0 0 0" value= "Q" color="black"><a-entity position="0.5 0 0.01" text="font: https://cdn.aframe.io/fonts/mozillavr.fnt; value: Q"></a-entity></a-plane>
			<a-plane  width="0.35" height="0.35" cursor-listener position="-0.5 1.1	 0  " rotation="0 0 0" value= "W" color="black"><a-entity position="0.5 0 0.01" text="font: https://cdn.aframe.io/fonts/mozillavr.fnt; value: W"></a-entity></a-plane>
			<a-plane  width="0.35" height="0.35" cursor-listener position="0    1.1	 0  " rotation="0 0 0" value= "E" color="black"><a-entity position="0.5 0 0.01" text="font: https://cdn.aframe.io/fonts/mozillavr.fnt; value: E"></a-entity></a-plane>
			<a-plane  width="0.35" height="0.35" cursor-listener position="0.5  1.1	 0  " rotation="0 0 0" value= "R" color="black"><a-entity position="0.5 0 0.01" text="font: https://cdn.aframe.io/fonts/mozillavr.fnt; value: R"></a-entity></a-plane>
			<a-plane  width="0.35" height="0.35" cursor-listener position="1    1.1	 0  " rotation="0 0 0" value= "T" color="black"><a-entity position="0.5 0 0.01" text="font: https://cdn.aframe.io/fonts/mozillavr.fnt; value: T"></a-entity></a-plane>
			<a-plane  width="0.35" height="0.35" cursor-listener position="-.5  0.7	 0  " rotation="0 0 0" value= "A" color="black"><a-entity position="0.5 0 0.01" text="font: https://cdn.aframe.io/fonts/mozillavr.fnt; value: A"></a-entity></a-plane>
			<a-plane  width="0.35" height="0.35" cursor-listener position="-0   0.7	 0  " rotation="0 0 0" value= "S" color="black"><a-entity position="0.5 0 0.01" text="font: https://cdn.aframe.io/fonts/mozillavr.fnt; value: S"></a-entity></a-plane>
			<a-plane  width="0.35" height="0.35" cursor-listener position=".5   0.7	 0  " rotation="0 0 0" value= "D" color="black"><a-entity position="0.5 0 0.01" text="font: https://cdn.aframe.io/fonts/mozillavr.fnt; value: D"></a-entity></a-plane>
			<a-plane  width="0.7" height="0.25" cursor-listener position=" -.9  0.3	 0  " rotation="0 0 0" value= "Backspace" color="black"><a-entity position="0.5 0 0.01" text="font: https://cdn.aframe.io/fonts/mozillavr.fnt; value: Backspace"></a-entity></a-plane>
			<a-plane  width="0.7" height="0.25" cursor-listener position=" -0  0.3	 0  " rotation="0 0 0" value= "Space" color="black"><a-entity position="0.5 0 0.01" text="font: https://cdn.aframe.io/fonts/mozillavr.fnt; value: "Space"></a-entity></a-plane>
			<a-plane  width="0.7" height="0.25" cursor-listener position=" .9   0.3	 0  " rotation="0 0 0" value= "Delete" color="black"><a-entity position="0.5 0 0.01" text="font: https://cdn.aframe.io/fonts/mozillavr.fnt; value: Delete"></a-entity></a-plane>
			                                                                     
			
			<a-plane width="3" height="0.178" position="0 0 0" rotation="0 0 0" color="#4a236b"><a-entity id="text1" position="0.5 0.01 0" text="font: https://cdn.aframe.io/fonts/mozillavr.fnt; value:Your Text Here!"></a-entity>
        </a-marker>
        <a-entity camera>
        </a-entity>
    </a-scene>
</body>

